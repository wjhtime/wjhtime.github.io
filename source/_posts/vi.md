---
title: vi简单使用
date: 2018-03-07
tags: vi
categories: linux
---



强大的linux编辑器，分为命令模式和编辑模式，从编辑模式切换到命令模式使用esc键，从命令模式切换到编辑模式使用a A o O i I键

参考资料：https://coolshell.cn/articles/5426.html

### 行内移动
```
w    移到下一个单词头
e    移到下一个单词尾
^    移到非空行首
g_    移到非空行尾
fa    找当前行的a
t;    调到;前的字符
```

### 全文移动
```
*    搜索当前的字符串
#    搜索当前的字符串

%    查找相匹配的括号

ctrl+u    向前翻半页

ctrl+d    向后翻半页
```



### 保存
```
:saveas /path/to/file
另存为
```

### 插入字符
```
a    当前字符后插入
A    行尾插入
o    在下一行插入空行
O    在前一行插入空行
i    当前字符前插入
I    行首插入
```

### 删除
```
D     删除当前行，当前位置之后的内容
cw    删除光标所在位置到单词结尾的字符
dt;    一直删除到;截止
```

### 粘贴
```
p    在之后粘贴
P    在之前粘贴
```

### 替换
```
r    单个字符
R    当前行字符
```

### 撤销回退
```
ctrl+r    回退
```

### 选择
```
<action><object>

action: d y v

ve
选择当前单词，同理ye粘贴当前单词，de删除当前单词
```

### 代码提示
```
在编辑模式下
ctrl+p
ctrl+n
```

### 批量注释
```
1. ctrl + v  //块选择
2. shift + i //插入#
3. 按esc键(两次)
```

### 自动缩进
```
==
```

## 高级用法

### 打开缓存文件
```
命令模式:ls
列出打开过的文件
%表示当前打开的文件

:buffer 2
选择要打开那个缓存文件
```

### 标签浏览文件
```
:Te    按标签浏览文件

gt    移到下一个标签文件
gT    移到前一个标签文件

:tabs    列出所有标签

:tabfirst
:tablast
打开指定的标签文件

:qa    退出所有标签
```

### 分屏浏览
```
:He    上下分屏
:Ve    左右分屏

:split
:vsplit
分屏，打开相同的文件

ctrl+w+h/j/k/l
切换分屏


:set scb 在各个分屏内输入
分屏同步移动

:set scb!
解锁同步移动
```

### 多文件
```
:e /path/to/file

文件移动
:bn
:bp
```

### 保存会话
```
:mksession
保存会话

vi -S Session.vim
恢复会话
```

### 大小写转换
```
选定字符 + u
转换为小写

选定字符 + U
转换为大写

gu    当前行转换为小写
gU    当前行转换为大写
```

### 光标移动
```
ctrl + o    回退光标
ctrl + i    前进光标
```

### 运行命令并插入到vi中
```
:r!date 
:r!ls
```








